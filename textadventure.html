<!DOCTYPE html>
<html>

  <head>
    <title>Text Adventure</title>
    <link rel="stylesheet" href="style.css" type="text/css">

    <style>
        #container{
            position:absolute;
            top:75px;
            bottom:0px;
            left:0px;
            right:0px;
            background-color:dimgray;
        }

        #leftpane{
            width:56%;
            height:100%;
            float:left;
            display:flex;
            align-items:center;
            justify-content:center;
        }

        #rightpane{
            width:44%;
            height:100%;
            float:left;
        }

        #storytext{
            position:absolute;
            bottom:100px;
            top:0px;
            left:56%;
            right:0px;
            align-items:center;
            justify-content:center;
            padding:8px;
        }

        #storyimg{
            max-height:97%;
            max-width:97%;
            width:97%;
        }

        #choices{
            position:absolute;
            bottom:0px;
            left:56%;
            right:0px;
            height:100px;
            display:flex;
            align-items:center;
            justify-content:center;
        }

        #button1,#button2,#button3,#button4{
            display:inline-block;
            background-color:orange;
            color:black;
            font-size:16px;
            padding:10px;
            border-radius:8px;
            text-decoration:none;
            margin:8px;
        }
    </style>

  </head>

  <body>

    <ul class="navbar">
      <li><a href="index.html">Home</a></li>
      <li><a href="about-me.html">About Me</a></li>
      <li><a href="resume.html">Resume</a></li>
      <li><a href="contact-me.html">Contact Me</a></li>
      <li class = "dropdown">
        <div class="active">Projects</div>
        <ul class="dropdown-content">
          <li class="active"><a href="textadventure.html">Text Adventure</a></li>
        </ul>
      </li>
    </ul>

    <div id="container">
        <div id="leftpane">
            <img id="storyimg" src="">
        </div>

        <div id="rightpane">
            <div id="storytext">
                <p id="ptext1">a</p>
                <p id="ptext2">a</p>
                <p id="ptext3">a</p>
                <p id="ptext4">a</p>
            </div>
            <div id="choices">
                <a id="button1" onclick="bclick(1)" href="#">a</a>
                <a id="button2" onclick="bclick(2)" href="#">a</a>
                <a id="button3" onclick="bclick(3)" href="#">a</a>
                <a id="button4" onclick="bclick(4)" href="#">a</a>
            </div>
        </div>
    </div>

    <script>
        var pic = document.getElementById("storyimg");
        var ptxt1 = document.getElementById("ptext1");
        var ptxt2 = document.getElementById("ptext2");
        var ptxt3 = document.getElementById("ptext3");
        var ptxt4 = document.getElementById("ptext4");
        var b1 = document.getElementById("button1");
        var b2 = document.getElementById("button2");
        var b3 = document.getElementById("button3");
        var b4 = document.getElementById("button4");
        var isSamurai = false;
        var manSpared = true;
        var beenToMountain = false;
        var beenToTemple = false;
        var travelersSaved = false;
        var hasEmblem = false;
        var hasKey = false;
        var capturedNum = 0;
        var playedDead = false;
        var state = "start";
        start();

        function start(){
            pic.src = "";
            ptxt1.innerHTML = "Press continue to start your adventure...";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function startGame(){
            isSamurai = false;
            manSpared = true;
            beenToMountain = false;
            beenToTemple = false;
            travelersSaved = false;
            hasEmblem = false;
            hasKey = false;
            capturedNum = 0;
            playedDead = false;
            state = "choosePath";
            choosePath();
        }
        function choosePath(){
            pic.src = "";
            ptxt1.innerHTML = "Choose a path:";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Samurai";
            b2.innerHTML = "Farmer";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function intro(){
            pic.src = "images/stickman.png";
            if (isSamurai){
                ptxt1.innerHTML = "intro intro samurai intro";
            }
            else{
                ptxt1.innerHTML = "intro intro farmer intro";
            }
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function town(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Left Side";
            b2.innerHTML = "Right Side";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function leftSide(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Forest";
            b2.innerHTML = "Mountain";
            b3.innerHTML = "Temple";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function rightSide(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Search";
            b2.innerHTML = "Bribe";
            b3.innerHTML = "Threaten";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function searchMan(){
            hasEmblem = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
            //leftSide();
        }
        function bribeMan(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
            //forest();
        }
        function threatenMan1(){
            //game over
        }
        function threatenMan2(){
        }

        function forest(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Cause Havoc";
            b2.innerHTML = "Wait";
            b3.innerHTML = "Walk Through";
            b4.innerHTML = "Turn Back";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "block";
        }
        function fellTower(){
        }
        function burnTower(){
        }
        function wait(){
        }
        function enterGate(){
        }
        function noEnterGate(){
        }
        function turnedIn(){
        }

        function mountain(){
            beenToMountain = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Do Nothing";
            if (isSamurai){
                b2.innerHTML = "Use Sword";
            }
            else{
                b2.innerHTML = "Use Rake";
            }
            b3.innerHTML = "Distract";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function doNothing(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function saveMerchants(){
            hasKey = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function landslide(){
            hasEmblem = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function wolfChase(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Walk Through";
            b2.innerHTML = "Cause Havoc";
            b3.innerHTML = "Use Wolves";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }

        function temple(){
            beenToTemple = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Run";
            if (isSamurai){
                b2.innerHTML = "Sword";
            }
            else{
                b2.innerHTML = "Fire";
            }
            b3.innerHTML = "Surrender";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function runAway(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function templeFight(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function templeFire(){
            hasKey = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function surrender(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }

        function decline(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Are you sure?";
            b1.innerHTML = "Yes, I'm sure";
            b2.innerHTML = " Fine, I'll play the game";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }

        function captured(){
            capturedNum++;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Wait";
            b2.innerHTML = "Play Dead";
            b3.innerHTML = "Kick and Scream";
            b4.innerHTML = "Persude Guard";
            b1.style.display = "";
            b2.style.display = "";
            b3.style.display = "";
            b4.style.display = "";
        }
        function campRaid(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Do you want to play again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function noHelp(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function playDeadFail(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function playDeadSuccess(){
        }
        function kickScream(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function convinceGuardFail(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function convinceGuardSuccess(){
        }

        function backToTown(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Forest";
            b2.innerHTML = "Mountain";
            b3.innerHTML = "Temple";
            b1.style.display = "block";
            if (!beenToMountain){
                b2.style.display = "block";
            }
            else{
                b2.style.display = "none";
            }
            if (!beenToTemple){
                b3.style.display = "block";
            }
            else{
                b3.style.display = "none";
            }
            b4.style.display = "none";
        }

        //state machine
        function bclick(button){
            if (state == "start"){
                if (button == 1){
                    startGame();
                }
            }
            else if (state == "choosePath"){
                if (button == 1){
                    isSamurai = true;
                }
                else if (button == 2){
                    isSamurai = false;
                }
                intro();
                state = "intro";
            }
            else if (state == "intro"){
                if (button == 1){
                    town();
                    state = "town";
                }
                else if (button == 2){
                    decline();
                    state = "decline";
                }
            }
            else if (state == "town"){
                if (button == 1){
                    leftSide();
                    state = "leftSide";
                }
                else if (button == 2){
                    rightSide();
                    state = "rightSide";
                }
            }
            else if (state == "leftSide"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
                else if (button == 2){
                    mountain();
                    state = "mountain";
                }
                else if (button == 3){
                    temple();
                    state = "temple";
                }
            }
            else if (state == "rightSide"){
                if (button == 1){
                    searchMan();
                    state = "searchMan";
                }
                else if (button == 2){
                    bribeMan();
                    state = "bribeMan";
                }
                else if (button == 3 && isSamurai){
                    threatenMan1();
                    state = "threatenMan1";
                }
                else if (button == 3 && !isSamurai){
                    threatenMan2();
                    state = "threatenMan2";
                }
            }
            else if (state == searchMan){
                if (button == 1){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "bribeMan"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
            }
            else if (state == "threatenMan2"){
                if (button == 1){
                    mountain();
                    state = "mountain";
                }
            }
            else if (state == "mountain"){
                if (button == 1){
                    doNothing();
                    state = "gameOver";
                }
                else if (button == 2 && isSamurai){
                    saveMerchants();
                    state = "saveMerchants";
                }
                else if (button == 2 && !isSamurai){
                    landslide();
                    state = "landslide";
                }
                else if (button == 3){
                    wolfChase();
                    state = "wolfChase";
                }
            }
            else if (state == "saveMerchants"){
                if (button == 1){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "landslide"){
                if (button == 1){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "woldChase"){
                if (button == 1){
                }
            }
            else if (state == "temple"){
                if (button == 1){
                    runAway();
                    state = "gameOver";
                }
                else if (button == 2 && isSamurai){
                    templeFight();
                    state = "gameOver";
                }
                else if (button == 2 && !isSamurai){
                    templeFire();
                    state = "templeFire";
                }
                else if (button == 3){
                    surrender();
                    state = "surrender";
                }
            }
            else if (state == "templeFire"){
                if (button == 1){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "surrender"){
                if (button == 1){
                    captured();
                    state = "captured";
                }
            }
            else if (state == "forest"){
                if (button == 1 && isSamurai){
                    fellTower();
                    state = "fellTower";
                }
                else if (button == 1 && !isSamurai){
                    burnTower();
                    state = "burnTower";
                }
                else if (button == 2){
                    wait();
                    state = "wait";
                }
                else if (button == 3 && hasEmblem){
                    enterGate();
                    state = "enterGate";
                }
                else if (button == 3 && !hasEmblem){
                    noEnterGate();
                    state = "noEnterGate";
                }
                else if (button == 4 && manSpared){
                    turnedIn();
                    state = "gameOver";
                }
                else if (button == 4 && !manSpared){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "decline"){
                if (button == 1){
                    captured();
                    state = "captured";
                }
                else if (button == 2){
                    town();
                    state = "town";
                }
            }
            else if (state == "captured"){
                if (button == 1 && travelersSaved){
                    campRaid();
                    state = "gameOver";
                }
                else if (button == 1 && !travelersSaved){
                    noHelp();
                    state = "gameOver";
                }
                else if (button == 2 && playedDead){
                    playDeadFail();
                    state = "gameOver";
                }
                else if (button == 2 && !playedDead){
                    playDeadSuccess();
                    state = "forest";
                }
                else if (button == 3){
                    kickScream();
                    state = "gameOver";
                }
                else if (button == 4 && capturedNum > 1){
                    convinceGuardFail();
                    state = "gameOver";
                }
                else if (button == 4 && capturedNum <= 1){
                    convinceGuardSuccess();
                    state = "forest";
                }
            }
            else if (state == "gameOver"){
                if (button == 1){
                    startGame();
                }
                else if (button == 2){
                    start();
                    state = "start";
                }
            }
            else if (state == "backToTown"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
                else if (button == 2){
                    mountain();
                    state = "mountain";
                }
                else if (button == 3){
                    temple();
                    state = "temple";
                }
            }
            return false;
        }
    </script>
  </body>

</html>