<!DOCTYPE html>
<html>

  <head>
    <title>Text Adventure</title>
    <link rel="stylesheet" href="style.css" type="text/css">

    <style>
        #container{
            position:absolute;
            top:75px;
            bottom:0px;
            left:0px;
            right:0px;
            background-color:dimgray;
            z-index:1;
        }

        #leftpane{
            width:56%;
            height:100%;
            float:left;
            display:flex;
            align-items:center;
            justify-content:center;
        }

        #rightpane{
            width:44%;
            height:100%;
            float:left;
        }

        #storytext{
            position:absolute;
            bottom:100px;
            top:0px;
            left:56%;
            right:0px;
            align-items:center;
            justify-content:center;
            padding:8px;
            z-index:1;
        }

        #storyimg{
            max-height:97%;
            max-width:97%;
            width:97%;
        }

        #choices{
            position:absolute;
            bottom:0px;
            left:56%;
            right:0px;
            height:100px;
            display:flex;
            align-items:center;
            justify-content:center;
        }

        #button1,#button2,#button3,#button4{
            display:inline-block;
            background-color:orange;
            color:black;
            font-size:16px;
            padding:10px;
            border-radius:8px;
            text-decoration:none;
            margin:8px;
        }
    </style>

  </head>

  <body>

    <ul class="navbar">
      <li><a href="index.html">Home</a></li>
      <li><a href="about-me.html">About Me</a></li>
      <li><a href="resume.html">Resume</a></li>
      <li><a href="contact-me.html">Contact Me</a></li>
      <li class = "dropdown">
        <div class="active">Projects</div>
        <ul class="dropdown-content">
          <li class="active"><a href="textadventure.html">Text Adventure</a></li>
          <li><a href="python-project.html">Python Project</a></li>
        </ul>
      </li>
    </ul>

    <div id="container">
        <div id="leftpane">
            <img id="storyimg" src="">
        </div>

        <div id="rightpane">
            <div id="storytext">
                <p id="ptext1">a</p>
                <p id="ptext2">a</p>
                <p id="ptext3">a</p>
                <p id="ptext4">a</p>
            </div>
            <div id="choices">
                <a id="button1" onclick="bclick(1)" href="#">a</a>
                <a id="button2" onclick="bclick(2)" href="#">a</a>
                <a id="button3" onclick="bclick(3)" href="#">a</a>
                <a id="button4" onclick="bclick(4)" href="#">a</a>
            </div>
        </div>
    </div>

    <script>
        var pic = document.getElementById("storyimg");
        var ptxt1 = document.getElementById("ptext1");
        var ptxt2 = document.getElementById("ptext2");
        var ptxt3 = document.getElementById("ptext3");
        var ptxt4 = document.getElementById("ptext4");
        var b1 = document.getElementById("button1");
        var b2 = document.getElementById("button2");
        var b3 = document.getElementById("button3");
        var b4 = document.getElementById("button4");
        var isSamurai = false;
        var declined = false;
        var manSpared = false;
        var beenToMountain = false;
        var beenToTemple = false;
        var travelersSaved = false;
        var hasEmblem = false;
        var hasKey = false;
        var capturedNum = 0;
        var playedDead = false;
        var state = "start";
        start();

        function start(){
            pic.src = "";
            ptxt1.innerHTML = "Press continue to start your adventure...";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function startGame(){
            isSamurai = false;
            declined = false;
            manSpared = false;
            beenToMountain = false;
            beenToTemple = false;
            travelersSaved = false;
            hasEmblem = false;
            hasKey = false;
            capturedNum = 0;
            playedDead = false;
            state = "choosePath";
            choosePath();
        }
        function choosePath(){
            pic.src = "";
            ptxt1.innerHTML = "Choose your path...";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Samurai";
            b2.innerHTML = "Farmer";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function intro(){
            pic.src = "images/stickman.png";
            if (isSamurai){
                ptxt1.innerHTML = "You are Joe, a mighty samurai living in feudal Japan. You lost your status due to false accusations, and you're looking for a way to get some money.";
            }
            else{
                ptxt1.innerHTML = "You are Joe, a rice farmer who lives in feudal Japan. The winter has been rough, and you desparately need money to feed your family.";
            }
            ptxt2.innerHTML = "One day, while walking along the streets, you come across a flyer with a bounty for the local gang; the flyer says they're offering 20,000 yen.";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Do you want to take the bounty?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function town(){
            pic.src = "";
            ptxt1.innerHTML = "You decide to take the bounty and enter the main village. To the left side of the village is where the marketplace and town quare are located; to the right are the houses where the merchants and other villagers live.";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Which side do you visit in order to find a lead?";
            b1.innerHTML = "Left Side";
            b2.innerHTML = "Right Side";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function leftSide(){
            pic.src = "";
            ptxt1.innerHTML = "Walking around the village square and marketplace and talking to people have given you knowledge of some rumors surrounding the gang's whereabouts.";
            ptxt2.innerHTML = "One rumor says that the gang hides deep in the forest; another says they have a camp up in the mountain; a third rumor suggest that they inhabit the groud of the old abandoned temple.";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Where do you go to look?";
            b1.innerHTML = "Forest";
            b2.innerHTML = "Mountain";
            b3.innerHTML = "Temple";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function rightSide(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Search";
            b2.innerHTML = "Bribe";
            b3.innerHTML = "Threaten";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function searchMan(){
            hasEmblem = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function bribeMan(){
            manSpared = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function threatenMan1(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function threatenMan2(){
            manSpared = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }

        function forest(){
            pic.src = "";
            if (capturedNum == 0){
                ptxt1.innerHTML = "You pack your things and head into the thick of the forest. After a while of searching, you successfully locate the gang's hideout.";
            }
            else if (capturedNum > 0){
                ptxt1.innerHTML = "";
            }
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Hiding behind a tree, you see two guards, one on a guard tower, and the other standing in front of the camp's walls. How should you get inside?";
            b1.innerHTML = "Cause Havoc";
            b2.innerHTML = "Wait";
            b3.innerHTML = "Walk Through";
            b4.innerHTML = "Turn Back";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            if (beenToMountain && beenToTemple){
                b4.style.display = "block";
            }
            else if (!beenToMountain || !beenToTemple){
                b4.style.display = "none";
            }
        }
        function fellTower(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Break Window";
            b2.innerHTML = "Knock on Door";
            b3.innerHTML = "Use Key";
            b1.style.display = "block";
            b2.style.display = "block";
            if (hasKey){
                b3.style.display = "block";
            }
            else if (!hasKey){
                b3.style.display = "none";
            }
            b4.style.display = "none";
        }
        function breakWindow(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            if (isSamurai){
                b1.innerHTML = "Sword";
            }
            else if (!isSamurai){
                b1.innerHTML = "Hat";
            }
            b2.innerHTML = "Fight Barehanded";
            b3.innerHTML = "Mercy";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function leaderSword(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Would you like to play again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function leaderHat(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function barehanded(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function mercy(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Would you like to play again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function knockDoor(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function useKey(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function burnTower(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Break Window";
            b2.innerHTML = "Knock on Door";
            b3.innerHTML = "Use Key";
            b1.style.display = "block";
            b2.style.display = "block";
            if (hasKey){
                b3.style.display = "block";
            }
            else if (!hasKey){
                b3.style.display = "none";
            }
            b4.style.display = "none";
        }
        function wait(){
            pic.src = "";
            ptxt1.innerHTML = "You decide that the safest option would be to wait until night. After several hours of waiting, the moon rises, and you successfully manage to sneak into the camp under a veil of darkness.";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function houseGuard(){
            pic.src = "";
            ptxt1.innerHTML = "As you sneak around the camp, you find the gang leader's hut and begin to approach it. However, as you get closer, you notice a guard guarding the entrance.";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "How do you get past the guard?";
            b1.innerHTML = "Sword";
            b2.innerHTML = "Convince Guard";
            b3.innerHTML = "Go Through Window";
            if (isSamurai){
                b1.style.display = "block";
            }
            else if (!isSamurai){
                b1.style.display = "none";
            }
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function guardSword(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function guardTrick(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function throughWindow(){
            pic.src = "";
            ptxt1.innerHTML = "You see a window on the side of the hut and crawl through it. Hearing suspicious noises, the guard begins to walk to the side of the hut to see what's going on.";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Your only option is to hide, but where?";
            b1.innerHTML = "On Ceiling";
            b2.innerHTML = "Under Table";
            b3.innerHTML = "On Bed";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function onCeiling(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function underTable(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function onBed(){
            pic.src = "";
            ptxt1.innerHTML = "You have no idea why you thought this would be a good idea, but it was. This was the right choice. Good job.";
            ptxt2.innerHTML = "Quickly, you quiety run over to the leader's bed and plop down beside him. As the guard peers through the window, he sees you next to the guard and for some reason assumes that the leader of a criminal gang was just having a sleepover.";
            ptxt3.innerHTML = "As the guard goes back to his post, you grab a nearby weapon and finish the leader. Your mission is accomplished, now you just need to find a way to get his body back to the village.";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function enterGate(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Poison Drink";
            b2.innerHTML = "Enter House";
            b3.innerHTML = "Follow Orders";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function noEnterGate(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function poisonDrink(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function goToHouse(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function followOrders(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function turnedIn(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }

        function mountain(){
            beenToMountain = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Do Nothing";
            if (isSamurai){
                b2.innerHTML = "Use Sword";
            }
            else{
                b2.innerHTML = "Use Rake";
            }
            b3.innerHTML = "Distract";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function doNothing(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function saveMerchants(){
            hasKey = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function landslide(){
            hasEmblem = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function wolfChase(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Walk Through";
            b2.innerHTML = "Cause Havoc";
            b3.innerHTML = "Use Wolves";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function enterGate1(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Poison Drink";
            b2.innerHTML = "Enter House";
            b3.innerHTML = "Follow Orders";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "block";
        }
        function noEnterGate1(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function fellTower1(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Break Window";
            b2.innerHTML = "Knock on Door";
            b3.innerHTML = "Use Key";
            b1.style.display = "block";
            b2.style.display = "block";
            if (hasKey){
                b3.style.display = "block";
            }
            else if (!hasKey){
                b3.style.display = "none";
            }
            b4.style.display = "none";
        }
        function burnTower1(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Break Window";
            b2.innerHTML = "Knock on Door";
            b3.innerHTML = "Use Key";
            b1.style.display = "block";
            b2.style.display = "block";
            if (hasKey){
                b3.style.display = "block";
            }
            else if (!hasKey){
                b3.style.display = "none";
            }
            b4.style.display = "none";
        }
        function useWolves(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }

        function temple(){
            beenToTemple = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Run";
            if (isSamurai){
                b2.innerHTML = "Sword";
            }
            else{
                b2.innerHTML = "Fire";
            }
            b3.innerHTML = "Surrender";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "block";
            b4.style.display = "none";
        }
        function runAway(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function templeFight(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function templeFire(){
            hasKey = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function surrender(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }

        function decline(){
            declined = true;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Are you sure?";
            b1.innerHTML = "Yes, I'm sure";
            b2.innerHTML = " Fine, I'll play the game";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }

        function captured(){
            capturedNum++;
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Wait";
            b2.innerHTML = "Play Dead";
            b3.innerHTML = "Kick and Scream";
            b4.innerHTML = "Persude Guard";
            b1.style.display = "";
            b2.style.display = "";
            b3.style.display = "";
            b4.style.display = "";
        }
        function campRaid(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Do you want to play again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function noHelp(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function playDeadFail(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function playDeadSuccess(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function kickScream(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function convinceGuardFail(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function convinceGuardSuccess(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Continue";
            b1.style.display = "block";
            b2.style.display = "none";
            b3.style.display = "none";
            b4.style.display = "none";
        }

        function backToTown(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "";
            b1.innerHTML = "Forest";
            b2.innerHTML = "Mountain";
            b3.innerHTML = "Temple";
            b1.style.display = "block";
            if (!beenToMountain){
                b2.style.display = "block";
            }
            else{
                b2.style.display = "none";
            }
            if (!beenToTemple){
                b3.style.display = "block";
            }
            else{
                b3.style.display = "none";
            }
            b4.style.display = "none";
        }
        function escape(){
            pic.src = "";
            ptxt1.innerHTML = "You think about your options, and you come up with two possible solutions: you can either try to pretend to be the leader, or you can take the body and book it out of there.";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "It's do or die now. What are you going to do?";
            b1.innerHTML = "Grab and Run";
            b2.innerHTML = "Disguise";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function grabRun(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Try Again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        function disguise(){
            pic.src = "";
            ptxt1.innerHTML = "";
            ptxt2.innerHTML = "";
            ptxt3.innerHTML = "";
            ptxt4.innerHTML = "Would you like to play again?";
            b1.innerHTML = "Yes";
            b2.innerHTML = "No";
            b1.style.display = "block";
            b2.style.display = "block";
            b3.style.display = "none";
            b4.style.display = "none";
        }
        //state machine
        function bclick(button){
            if (state == "start"){
                if (button == 1){
                    startGame();
                }
            }
            else if (state == "choosePath"){
                if (button == 1){
                    isSamurai = true;
                }
                else if (button == 2){
                    isSamurai = false;
                }
                intro();
                state = "intro";
            }
            else if (state == "intro"){
                if (button == 1){
                    town();
                    state = "town";
                }
                else if (button == 2){
                    decline();
                    state = "decline";
                }
            }
            else if (state == "town"){
                if (button == 1){
                    leftSide();
                    state = "leftSide";
                }
                else if (button == 2){
                    rightSide();
                    state = "rightSide";
                }
            }
            else if (state == "leftSide"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
                else if (button == 2){
                    mountain();
                    state = "mountain";
                }
                else if (button == 3){
                    temple();
                    state = "temple";
                }
            }
            else if (state == "rightSide"){
                if (button == 1){
                    searchMan();
                    state = "searchMan";
                }
                else if (button == 2){
                    bribeMan();
                    state = "bribeMan";
                }
                else if (button == 3 && isSamurai){
                    threatenMan1();
                    state = "threatenMan1";
                }
                else if (button == 3 && !isSamurai){
                    threatenMan2();
                    state = "threatenMan2";
                }
            }
            else if (state == "searchMan"){
                if (button == 1){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "bribeMan"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
            }
            else if (state == "threatenMan1"){
                if (button == 1){
                    startGame();
                }
                else if (button == 2){
                    start();
                    state = "start";
                }
            }
            else if (state == "threatenMan2"){
                if (button == 1){
                    mountain();
                    state = "mountain";
                }
            }
            else if (state == "mountain"){
                if (button == 1){
                    doNothing();
                    state = "gameOver";
                }
                else if (button == 2 && isSamurai){
                    saveMerchants();
                    state = "saveMerchants";
                }
                else if (button == 2 && !isSamurai){
                    landslide();
                    state = "landslide";
                }
                else if (button == 3){
                    wolfChase();
                    state = "wolfChase";
                }
            }
            else if (state == "saveMerchants"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
            }
            else if (state == "landslide"){
                if (button == 1){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "wolfChase"){
                if (button == 1 && hasEmblem){
                    enterGate1();
                    state = "enterGate1";
                }
                else if (button == 1 && !hasEmblem){
                    noEnterGate1();
                    state = "gameOver";
                }
                else if (button == 2 && isSamurai){
                    fellTower1();
                    state = "fellTower1";
                }
                else if (button == 2 && !isSamurai){
                    burnTower1();
                    state = "burnTower1";
                }
                else if (button == 3){
                    useWolves();
                    state = "gameOver";
                }
            }
            else if (state == "temple"){
                if (button == 1){
                    runAway();
                    state = "gameOver";
                }
                else if (button == 2 && isSamurai){
                    templeFight();
                    state = "gameOver";
                }
                else if (button == 2 && !isSamurai){
                    templeFire();
                    state = "templeFire";
                }
                else if (button == 3){
                    surrender();
                    state = "surrender";
                }
            }
            else if (state == "templeFire"){
                if (button == 1){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "surrender"){
                if (button == 1){
                    captured();
                    state = "captured";
                }
            }
            else if (state == "forest"){
                if (button == 1 && isSamurai){
                    fellTower();
                    state = "fellTower";
                }
                else if (button == 1 && !isSamurai){
                    burnTower();
                    state = "burnTower";
                }
                else if (button == 2){
                    wait();
                    state = "wait";
                }
                else if (button == 3 && hasEmblem){
                    enterGate();
                    state = "enterGate";
                }
                else if (button == 3 && !hasEmblem){
                    noEnterGate();
                    state = "noEnterGate";
                }
                else if (button == 4 && manSpared){
                    turnedIn();
                    state = "gameOver";
                }
                else if (button == 4 && !manSpared){
                    backToTown();
                    state = "backToTown";
                }
            }
            else if (state == "fellTower" || state == "fellTower1" || 
                     state == "burnTower" || state == "burnTower1"){
                if (button == 1){
                    breakWindow();
                    state = "breakWindow";
                }
                else if (button == 2){
                    knockDoor();
                    state = "gameOver";
                }
                else if (button == 3){
                    useKey();
                    state == "escape";
                }
            }
            else if (state == "breakWindow"){
                if (button == 1 && isSamurai){
                    leaderSword();
                    state = "gameOver";
                }
                else if (button == 1 && !isSamurai){
                    leaderHat();
                    state = "gameOver";
                }
                else if (button == 3){
                    barehanded();
                    state = "gameOver";
                }
                else if (button == 4){
                    mercy();
                    state = "gameOver";
                }
            }
            else if (state == "wait"){
                if (button == 1){
                    houseGuard();
                    state = "houseGuard";
                }
            }
            else if (state == "enterGate"){
                if (button == 1){
                    poisonDrink();
                    state == "poisonDrink";
                }
                else if (button == 2){
                    goToHouse();
                    state == "goToHouse";
                }
                else if (button == 3){
                    followOrders();
                    state == "followOrders"
                }
            }
            else if (state == "noEnterGate"){
                if (button == 1){
                    captured();
                    state = "captured";
                }
            }
            else if (state == "poisonDrink"){
                if (button == 1){
                    captured();
                    state = "captured";
                }
            }
            else if (state == "goToHouse"){
                if (button == 1){
                    houseGuard();
                    state = "housGuard";
                }
            }
            else if (state == "followOrders"){
                if (button == 1){
                    houseGuard();
                    state = "houseGuard";
                }
            }
            else if (state == "decline"){
                if (button == 1){
                    captured();
                    state = "captured";
                }
                else if (button == 2){
                    town();
                    state = "town";
                }
            }
            else if (state == "captured"){
                if (button == 1 && travelersSaved){
                    campRaid();
                    state = "gameOver";
                }
                else if (button == 1 && !travelersSaved){
                    noHelp();
                    state = "gameOver";
                }
                else if (button == 2 && playedDead){
                    playDeadFail();
                    state = "gameOver";
                }
                else if (button == 2 && !playedDead){
                    playDeadSuccess();
                    state = "playDeadSuccess";
                }
                else if (button == 3){
                    kickScream();
                    state = "gameOver";
                }
                else if (button == 4 && capturedNum > 1 || !hasEmblem){
                    convinceGuardFail();
                    state = "gameOver";
                }
                else if (button == 4 && capturedNum <= 1 && hasEmblem){
                    convinceGuardSuccess();
                    state = "convinceGuardSuccess";
                }
            }
            else if (state == "playDeadSuccess"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
            }
            else if (state == "convinceGuardSuccess"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
            }
            else if (state == "gameOver"){
                if (button == 1){
                    startGame();
                }
                else if (button == 2){
                    start();
                    state = "start";
                }
            }
            else if (state == "backToTown"){
                if (button == 1){
                    forest();
                    state = "forest";
                }
                else if (button == 2){
                    mountain();
                    state = "mountain";
                }
                else if (button == 3){
                    temple();
                    state = "temple";
                }
            }
            else if (state == "escape"){
                if (button == 1){
                    grabRun();
                    state = "gameOver";
                }
                else if (button == 2){
                    disguise();
                    state = "gameOver";
                }
            }
            else if (state == "houseGuard"){
                if (button == 1){
                    guardSword();
                    state = "guardSword";
                }
                else if (button == 2){
                    guardTrick();
                    state = "guardTrick";
                }
                else if (button == 3){
                    throughWindow();
                    state = "throughWindow";
                }
            }
            else if (state == "guardSword"){
                if (button == 1){
                    escape();
                    state = "escape";
                }
            }
            else if (state == "guardTrick"){
                if (button == 1){
                    captured();
                    state = "captured";
                }
            }
            else if (state == "throughWindow"){
                if (button == 1){
                    onCeiling();
                    state = "gameOver";
                }
                else if (button == 2){
                    underTable();
                    state = "gameOver";
                }
                else if (button == 3){
                    onBed();
                    state = "onBed";
                }
            }
            else if (state == "onBed"){
                if (button == 1){
                    escape();
                    state = "escape";
                }
            }
            return false;
        }
    </script>
  </body>

</html>